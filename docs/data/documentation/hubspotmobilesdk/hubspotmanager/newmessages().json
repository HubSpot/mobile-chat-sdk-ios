{"kind":"symbol","primaryContentSections":[{"kind":"declarations","declarations":[{"languages":["swift"],"tokens":[{"kind":"attribute","text":"@"},{"kind":"attribute","text":"MainActor","preciseIdentifier":"s:ScM"},{"kind":"text","text":" "},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"newMessages","kind":"identifier"},{"text":"() -> ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:ScS","text":"AsyncStream"},{"text":"<","kind":"text"},{"preciseIdentifier":"s:16HubspotMobileSDK24PushNotificationChatDataV","identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/PushNotificationChatData","text":"PushNotificationChatData","kind":"typeIdentifier"},{"kind":"text","text":">"}],"platforms":["iOS"]}]},{"content":[{"text":"Discussion","anchor":"discussion","level":2,"type":"heading"},{"type":"paragraph","inlineContent":[{"text":"This could be used in a stand alone task like so:","type":"text"}]},{"code":["Task {","   for await notification in HubspotManager.shared.newMessages() {","      self.triggerChatFlow()","   }","","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"or attached to a view:","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["myView","  .frame(...)","  .background(...)","  .task {","    for await _ in HubspotManager.shared.newMessages() {","       presentChatView = true","    }","}"]},{"type":"aside","style":"warning","name":"Warning","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"This async stream normally will never terminate."}]}]}],"kind":"content"}],"sections":[],"hierarchy":{"paths":[["doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK","doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager"]]},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/hubspotmobilesdk\/hubspotmanager\/newmessages()"]}],"schemaVersion":{"major":0,"patch":0,"minor":3},"abstract":[{"type":"text","text":"Alternative to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager\/newMessage"},{"type":"text","text":" publisher or "},{"isActive":true,"type":"reference","identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager\/newMessageCallback"},{"text":" property , potentially useful in a SwiftUI view","type":"text"}],"identifier":{"url":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager\/newMessages()","interfaceLanguage":"swift"},"metadata":{"fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"text":"newMessages","kind":"identifier"},{"text":"() -> ","kind":"text"},{"text":"AsyncStream","preciseIdentifier":"s:ScS","kind":"typeIdentifier"},{"kind":"text","text":"<"},{"text":"PushNotificationChatData","kind":"typeIdentifier","preciseIdentifier":"s:16HubspotMobileSDK24PushNotificationChatDataV"},{"text":">","kind":"text"}],"externalID":"s:16HubspotMobileSDK0A7ManagerC11newMessagesScSyAA24PushNotificationChatDataVGyF","roleHeading":"Instance Method","symbolKind":"method","extendedModule":"HubspotMobileSDK","modules":[{"name":"HubspotMobileSDK"}],"role":"symbol","title":"newMessages()"},"references":{"doc://hubspot-mobile-sdk-ios.HubspotMobileSDK/documentation/HubspotMobileSDK/HubspotManager/newMessages()":{"url":"\/documentation\/hubspotmobilesdk\/hubspotmanager\/newmessages()","identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager\/newMessages()","type":"topic","title":"newMessages()","abstract":[{"type":"text","text":"Alternative to "},{"type":"reference","identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager\/newMessage","isActive":true},{"type":"text","text":" publisher or "},{"identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager\/newMessageCallback","type":"reference","isActive":true},{"text":" property , potentially useful in a SwiftUI view","type":"text"}],"role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"text":"newMessages","kind":"identifier"},{"text":"() -> ","kind":"text"},{"text":"AsyncStream","kind":"typeIdentifier","preciseIdentifier":"s:ScS"},{"kind":"text","text":"<"},{"text":"PushNotificationChatData","kind":"typeIdentifier","preciseIdentifier":"s:16HubspotMobileSDK24PushNotificationChatDataV"},{"kind":"text","text":">"}],"kind":"symbol"},"doc://hubspot-mobile-sdk-ios.HubspotMobileSDK/documentation/HubspotMobileSDK/HubspotManager":{"abstract":[{"type":"text","text":"The main interface for the Hubspot mobile SDK."}],"url":"\/documentation\/hubspotmobilesdk\/hubspotmanager","kind":"symbol","identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager","navigatorTitle":[{"kind":"identifier","text":"HubspotManager"}],"type":"topic","role":"symbol","title":"HubspotManager","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"HubspotManager","kind":"identifier"}]},"doc://hubspot-mobile-sdk-ios.HubspotMobileSDK/documentation/HubspotMobileSDK/HubspotManager/userNotificationCenter(_:didReceive:withCompletionHandler:)":{"identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager\/userNotificationCenter(_:didReceive:withCompletionHandler:)","title":"userNotificationCenter(_:didReceive:withCompletionHandler:)","type":"topic","kind":"symbol","url":"\/documentation\/hubspotmobilesdk\/hubspotmanager\/usernotificationcenter(_:didreceive:withcompletionhandler:)","fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"userNotificationCenter"},{"text":"(","kind":"text"},{"preciseIdentifier":"c:objc(cs)UNUserNotificationCenter","kind":"typeIdentifier","text":"UNUserNotificationCenter"},{"text":", ","kind":"text"},{"text":"didReceive","kind":"externalParam"},{"kind":"text","text":": "},{"text":"UNNotificationResponse","preciseIdentifier":"c:objc(cs)UNNotificationResponse","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"withCompletionHandler"},{"text":": () -> ","kind":"text"},{"text":"Void","kind":"typeIdentifier","preciseIdentifier":"s:s4Voida"},{"text":")","kind":"text"}],"abstract":[{"type":"text","text":"A "},{"isActive":true,"identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager","type":"reference"},{"type":"text","text":" instanance, like "},{"isActive":true,"identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager\/shared","type":"reference"},{"type":"text","text":" can be used as a notification centre delegate, in situations where all notifications are from hubspot. If you have your own notification delegate, instead call this method from within your own delegate for notifications that are hubspot related."}],"role":"symbol"},"doc://hubspot-mobile-sdk-ios.HubspotMobileSDK/documentation/HubspotMobileSDK/HubspotManager/newMessage":{"fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"newMessage","kind":"identifier"},{"kind":"text","text":": "},{"text":"PassthroughSubject","kind":"typeIdentifier","preciseIdentifier":"s:7Combine18PassthroughSubjectC"},{"text":"<","kind":"text"},{"text":"PushNotificationChatData","preciseIdentifier":"s:16HubspotMobileSDK24PushNotificationChatDataV","kind":"typeIdentifier"},{"kind":"text","text":", "},{"text":"Never","kind":"typeIdentifier","preciseIdentifier":"s:s5NeverO"},{"text":">","kind":"text"}],"abstract":[{"type":"text","text":"Publisher triggered when user opens a hubspot message. Only triggered when manager is acting as the UNNotificationDelegate, or notifications are forwarded to the "},{"type":"reference","identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager\/userNotificationCenter(_:didReceive:withCompletionHandler:)","isActive":true},{"text":" method on this manager instance.","type":"text"}],"identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager\/newMessage","kind":"symbol","type":"topic","role":"symbol","url":"\/documentation\/hubspotmobilesdk\/hubspotmanager\/newmessage","title":"newMessage"},"doc://hubspot-mobile-sdk-ios.HubspotMobileSDK/documentation/HubspotMobileSDK":{"abstract":[],"identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK","type":"topic","role":"collection","url":"\/documentation\/hubspotmobilesdk","kind":"symbol","title":"HubspotMobileSDK"},"doc://hubspot-mobile-sdk-ios.HubspotMobileSDK/documentation/HubspotMobileSDK/HubspotManager/newMessageCallback":{"url":"\/documentation\/hubspotmobilesdk\/hubspotmanager\/newmessagecallback","identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager\/newMessageCallback","type":"topic","title":"newMessageCallback","abstract":[{"text":"Callback triggered when user opens a hubspot message. Only triggered when manager is acting as the UNNotificationDelegate, or notifications are forwarded to the ","type":"text"},{"type":"reference","identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager\/userNotificationCenter(_:didReceive:withCompletionHandler:)","isActive":true},{"type":"text","text":" method on this manager instance."}],"role":"symbol","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"newMessageCallback"},{"text":": (","kind":"text"},{"preciseIdentifier":"s:16HubspotMobileSDK24PushNotificationChatDataV","text":"PushNotificationChatData","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:s4Voida","text":"Void"}],"kind":"symbol"},"doc://hubspot-mobile-sdk-ios.HubspotMobileSDK/documentation/HubspotMobileSDK/PushNotificationChatData":{"title":"PushNotificationChatData","identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/PushNotificationChatData","type":"topic","kind":"symbol","abstract":[{"type":"text","text":"Holds all the data that is hubspot specific, extracted from a push notification collection. A convenient way to bundle all the known parameters together for passing along from notification delegate to the chat view"}],"fragments":[{"kind":"keyword","text":"struct"},{"text":" ","kind":"text"},{"kind":"identifier","text":"PushNotificationChatData"}],"navigatorTitle":[{"kind":"identifier","text":"PushNotificationChatData"}],"url":"\/documentation\/hubspotmobilesdk\/pushnotificationchatdata","role":"symbol"}}}