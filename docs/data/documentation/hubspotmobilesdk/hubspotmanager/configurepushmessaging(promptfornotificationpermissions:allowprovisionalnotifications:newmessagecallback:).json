{"kind":"symbol","primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"attribute","text":"@"},{"preciseIdentifier":"s:ScM","text":"MainActor","kind":"attribute"},{"kind":"text","text":" "},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"configurePushMessaging","kind":"identifier"},{"kind":"text","text":"("},{"text":"promptForNotificationPermissions","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":", "},{"kind":"externalParam","text":"allowProvisionalNotifications"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:Sb","kind":"typeIdentifier","text":"Bool"},{"text":", ","kind":"text"},{"text":"newMessageCallback","kind":"externalParam"},{"text":": ((","kind":"text"},{"identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/PushNotificationChatData","kind":"typeIdentifier","preciseIdentifier":"s:16HubspotMobileSDK24PushNotificationChatDataV","text":"PushNotificationChatData"},{"text":") -> ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:s4Voida","text":"Void"},{"kind":"text","text":")? = nil)"}],"languages":["swift"],"platforms":["iOS"]}]},{"parameters":[{"name":"promptForNotificationPermissions","content":[{"type":"paragraph","inlineContent":[{"text":"If true, and notification permissions are not yet granted, the user is prompted to allow notifications","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"If ","type":"text"},{"type":"codeVoice","code":"promptForNotificationPermissions"},{"type":"text","text":" is false, set this to true to enable provisional notifications if not already granted. Has no effect if "},{"type":"codeVoice","code":"promptForNotificationPermissions"},{"type":"text","text":" is true."}],"type":"paragraph"}],"name":"allowProvisionalNotifications"},{"name":"newMessageCallback","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Use this closure to configure your UI to show chat view. Called on the main thread. If nil, the call back isn’t changed from any previous configuration. Alternatively, leave as nil , and set "},{"isActive":true,"identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager\/newMessageCallback","type":"reference"},{"type":"text","text":" property directly.  or use the "},{"type":"reference","identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager\/newMessage","isActive":true},{"text":" publisher property","type":"text"}]}]}],"kind":"parameters"},{"content":[{"anchor":"discussion","type":"heading","level":2,"text":"Discussion"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If using the HubspotManager to handle notifications, call this before the end of app launch to ensure all notifications are handled."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you would prefer to present notification permission dialog at a specific time, or as part of a primer screen, set promptForNotificationPermissions to false. If you have no preference for when to prompt the user , set promptForNotificationPermissions to true, and the user will be prompted if permissions are not yet granted."}]},{"inlineContent":[{"type":"text","text":"It’s also ok to call this multiple times - you might call "},{"type":"codeVoice","code":"configurePushMessaging(promptForNotificationPermissions: false, allowProvisionalNotifications: true, newMessageCallback: myHandler)"},{"type":"text","text":" during your app start up or initial setup, and later after user enables a setting or accesses a particular feature, call "},{"code":"configurePushMessaging(promptForNotificationPermissions: true, allowProvisionalNotifications: true, newMessageCallback: myHandler)","type":"codeVoice"},{"text":" to trigger the prompt for permissions.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"inlineContent":[{"text":"Warning","type":"text"}],"type":"strong"},{"type":"text","text":" This will set the delegate for the current UNUserNotificationCenter - if you need to handle UNUserNotificationCenterDelegate callbacks in your app, do not use this method."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"If the app should show chat UI in response to the user tapping a notification, newMessageCallback is triggered. Use this closure to configure your UI."}],"type":"paragraph"}],"kind":"content"}],"variants":[{"paths":["\/documentation\/hubspotmobilesdk\/hubspotmanager\/configurepushmessaging(promptfornotificationpermissions:allowprovisionalnotifications:newmessagecallback:)"],"traits":[{"interfaceLanguage":"swift"}]}],"metadata":{"roleHeading":"Instance Method","title":"configurePushMessaging(promptForNotificationPermissions:allowProvisionalNotifications:newMessageCallback:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"configurePushMessaging"},{"text":"(","kind":"text"},{"text":"promptForNotificationPermissions","kind":"externalParam"},{"kind":"text","text":": "},{"preciseIdentifier":"s:Sb","kind":"typeIdentifier","text":"Bool"},{"kind":"text","text":", "},{"text":"allowProvisionalNotifications","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"Bool","preciseIdentifier":"s:Sb","kind":"typeIdentifier"},{"kind":"text","text":", "},{"text":"newMessageCallback","kind":"externalParam"},{"text":": ((","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:16HubspotMobileSDK24PushNotificationChatDataV","text":"PushNotificationChatData"},{"kind":"text","text":") -> "},{"preciseIdentifier":"s:s4Voida","text":"Void","kind":"typeIdentifier"},{"text":")?)","kind":"text"}],"role":"symbol","modules":[{"name":"HubspotMobileSDK"}],"externalID":"s:16HubspotMobileSDK0A7ManagerC22configurePushMessaging32promptForNotificationPermissions29allowProvisionalNotifications18newMessageCallbackySb_SbyAA0fJ8ChatDataVcSgtF","extendedModule":"HubspotMobileSDK","symbolKind":"method"},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager\/configurePushMessaging(promptForNotificationPermissions:allowProvisionalNotifications:newMessageCallback:)"},"sections":[],"abstract":[{"text":"This is a convenience method for allowing this HubspotManager instance to act as your UNUserNotificationCenterDelegate. This will check any notifications received for hubspot messages.","type":"text"}],"hierarchy":{"paths":[["doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK","doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager"]]},"schemaVersion":{"major":0,"patch":0,"minor":3},"references":{"doc://hubspot-mobile-sdk-ios.HubspotMobileSDK/documentation/HubspotMobileSDK/HubspotManager/configurePushMessaging(promptForNotificationPermissions:allowProvisionalNotifications:newMessageCallback:)":{"title":"configurePushMessaging(promptForNotificationPermissions:allowProvisionalNotifications:newMessageCallback:)","url":"\/documentation\/hubspotmobilesdk\/hubspotmanager\/configurepushmessaging(promptfornotificationpermissions:allowprovisionalnotifications:newmessagecallback:)","abstract":[{"type":"text","text":"This is a convenience method for allowing this HubspotManager instance to act as your UNUserNotificationCenterDelegate. This will check any notifications received for hubspot messages."}],"kind":"symbol","role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"configurePushMessaging","kind":"identifier"},{"kind":"text","text":"("},{"text":"promptForNotificationPermissions","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:Sb","text":"Bool"},{"kind":"text","text":", "},{"kind":"externalParam","text":"allowProvisionalNotifications"},{"kind":"text","text":": "},{"preciseIdentifier":"s:Sb","kind":"typeIdentifier","text":"Bool"},{"kind":"text","text":", "},{"text":"newMessageCallback","kind":"externalParam"},{"kind":"text","text":": (("},{"text":"PushNotificationChatData","preciseIdentifier":"s:16HubspotMobileSDK24PushNotificationChatDataV","kind":"typeIdentifier"},{"kind":"text","text":") -> "},{"text":"Void","kind":"typeIdentifier","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")?)"}],"type":"topic","identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager\/configurePushMessaging(promptForNotificationPermissions:allowProvisionalNotifications:newMessageCallback:)"},"doc://hubspot-mobile-sdk-ios.HubspotMobileSDK/documentation/HubspotMobileSDK":{"abstract":[],"identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK","type":"topic","role":"collection","url":"\/documentation\/hubspotmobilesdk","kind":"symbol","title":"HubspotMobileSDK"},"doc://hubspot-mobile-sdk-ios.HubspotMobileSDK/documentation/HubspotMobileSDK/PushNotificationChatData":{"title":"PushNotificationChatData","identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/PushNotificationChatData","type":"topic","kind":"symbol","abstract":[{"type":"text","text":"Holds all the data that is hubspot specific, extracted from a push notification collection. A convenient way to bundle all the known parameters together for passing along from notification delegate to the chat view"}],"fragments":[{"kind":"keyword","text":"struct"},{"text":" ","kind":"text"},{"kind":"identifier","text":"PushNotificationChatData"}],"navigatorTitle":[{"kind":"identifier","text":"PushNotificationChatData"}],"url":"\/documentation\/hubspotmobilesdk\/pushnotificationchatdata","role":"symbol"},"doc://hubspot-mobile-sdk-ios.HubspotMobileSDK/documentation/HubspotMobileSDK/HubspotManager":{"abstract":[{"type":"text","text":"The main interface for the Hubspot mobile SDK."}],"url":"\/documentation\/hubspotmobilesdk\/hubspotmanager","kind":"symbol","identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager","navigatorTitle":[{"kind":"identifier","text":"HubspotManager"}],"type":"topic","role":"symbol","title":"HubspotManager","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"HubspotManager","kind":"identifier"}]},"doc://hubspot-mobile-sdk-ios.HubspotMobileSDK/documentation/HubspotMobileSDK/HubspotManager/newMessageCallback":{"url":"\/documentation\/hubspotmobilesdk\/hubspotmanager\/newmessagecallback","identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager\/newMessageCallback","type":"topic","title":"newMessageCallback","abstract":[{"text":"Callback triggered when user opens a hubspot message. Only triggered when manager is acting as the UNNotificationDelegate, or notifications are forwarded to the ","type":"text"},{"type":"reference","identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager\/userNotificationCenter(_:didReceive:withCompletionHandler:)","isActive":true},{"type":"text","text":" method on this manager instance."}],"role":"symbol","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"newMessageCallback"},{"text":": (","kind":"text"},{"preciseIdentifier":"s:16HubspotMobileSDK24PushNotificationChatDataV","text":"PushNotificationChatData","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:s4Voida","text":"Void"}],"kind":"symbol"},"doc://hubspot-mobile-sdk-ios.HubspotMobileSDK/documentation/HubspotMobileSDK/HubspotManager/newMessage":{"fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"newMessage","kind":"identifier"},{"kind":"text","text":": "},{"text":"PassthroughSubject","kind":"typeIdentifier","preciseIdentifier":"s:7Combine18PassthroughSubjectC"},{"text":"<","kind":"text"},{"text":"PushNotificationChatData","preciseIdentifier":"s:16HubspotMobileSDK24PushNotificationChatDataV","kind":"typeIdentifier"},{"kind":"text","text":", "},{"text":"Never","kind":"typeIdentifier","preciseIdentifier":"s:s5NeverO"},{"text":">","kind":"text"}],"abstract":[{"type":"text","text":"Publisher triggered when user opens a hubspot message. Only triggered when manager is acting as the UNNotificationDelegate, or notifications are forwarded to the "},{"type":"reference","identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager\/userNotificationCenter(_:didReceive:withCompletionHandler:)","isActive":true},{"text":" method on this manager instance.","type":"text"}],"identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager\/newMessage","kind":"symbol","type":"topic","role":"symbol","url":"\/documentation\/hubspotmobilesdk\/hubspotmanager\/newmessage","title":"newMessage"},"doc://hubspot-mobile-sdk-ios.HubspotMobileSDK/documentation/HubspotMobileSDK/HubspotManager/userNotificationCenter(_:didReceive:withCompletionHandler:)":{"identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager\/userNotificationCenter(_:didReceive:withCompletionHandler:)","title":"userNotificationCenter(_:didReceive:withCompletionHandler:)","type":"topic","kind":"symbol","url":"\/documentation\/hubspotmobilesdk\/hubspotmanager\/usernotificationcenter(_:didreceive:withcompletionhandler:)","fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"userNotificationCenter"},{"text":"(","kind":"text"},{"preciseIdentifier":"c:objc(cs)UNUserNotificationCenter","kind":"typeIdentifier","text":"UNUserNotificationCenter"},{"text":", ","kind":"text"},{"text":"didReceive","kind":"externalParam"},{"kind":"text","text":": "},{"text":"UNNotificationResponse","preciseIdentifier":"c:objc(cs)UNNotificationResponse","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"withCompletionHandler"},{"text":": () -> ","kind":"text"},{"text":"Void","kind":"typeIdentifier","preciseIdentifier":"s:s4Voida"},{"text":")","kind":"text"}],"abstract":[{"type":"text","text":"A "},{"isActive":true,"identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager","type":"reference"},{"type":"text","text":" instanance, like "},{"isActive":true,"identifier":"doc:\/\/hubspot-mobile-sdk-ios.HubspotMobileSDK\/documentation\/HubspotMobileSDK\/HubspotManager\/shared","type":"reference"},{"type":"text","text":" can be used as a notification centre delegate, in situations where all notifications are from hubspot. If you have your own notification delegate, instead call this method from within your own delegate for notifications that are hubspot related."}],"role":"symbol"}}}